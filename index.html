<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<title>Platypus.js by Jan Hančič</title>

		<link rel="stylesheet" href="stylesheets/styles.css?v=2">
		<link rel="stylesheet" href="stylesheets/pygment_trac.css">
		<script src="javascripts/scale.fix.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="wrapper">
			<header>
				<h1 class="header">Platypus.js</h1>
				<p class="header">Experimental JavaScript loader.</p>
				<ul>
					<li><a class="buttons github" href="https://github.com/janhancic/platypus.js">View On GitHub</a></li>
					<li>
						<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-url="http://janhancic.github.com/platypus.js/">Tweet</a>
					</li>
				</ul>
				<p class="header" id="author">
					<span>Brought to you by <a class="header name" href="http://hancic.info">Jan Hančič</a></span>
					<a href="http://hancic.info"><img src="images/jan-hancic.jpg" alt="Jan Hančič" title="Jan Hančič" /></a>
				</p>
			</header>
			<section>
				<h1>platypus.js</h1>
				<p>For now platypus.js is just a collection of experiments that I created in order to determine if it is possible to load CSS &amp; JavaScript with one request.</p>

				<p>I have created several proof of concepts that prove that it is indeed possible to do so. The general idea is to hide JavaScript code inside a CSS file, and extract it after the browser downloads the CSS file. This results in only one request instead of two.</p>

				<h2>Details</h2>
				<p>More details can be found in the GitHub repository <a href="https://github.com/janhancic/platypus.js">here</a> and in <a href="http://hancic.info/load-javascript-and-css-with-one-request">this blog post</a>. If this proves to be a viable way to load JavaScript I will create a generic solution and post the details here.</p>

				<h2>Demos / proof of concept</h2>
				<p>You can see the demos in the <a href="https://github.com/janhancic/platypus.js/tree/master/experiments">experiments</a> folder or you can view them live bellow:</p>
				<ul>
					<li><a href="experiments/index.html">demo #1</a> - original concept, loads CSS with AJAX and reads JS from a CSS comment</li>
					<li><a href="experiments/index2.html">demo #2</a> - to avoid FOUC, I put the JS code inside a <code>content</code> property in CSS, load the CSS normally and finally read the JS from there</li>
					<li><a href="experiments/index3.html">demo #3</a> - same as #2 but the JS is base64 encoded to avoid issues with quotes</li>
					<li><a href="experiments/index4.html">demo #4</a> - same as #3 but with whole jQuery</li>
					<li><a href="experiments/index5.html">demo #5</a> - same as #4 but can load JS code from multiple CSS files</li>
					<li><a href="experiments/index5_big.html">demo #5.1</a> - same as #5 but has more HTML, CSS &amp; JS (it's a bootstrap theme demo page)</li>
				</ul>

				<h2>Browser support</h2>
				<p>Tested against all the <a href="https://github.com/janhancic/platypus.js/tree/master/experiments">experiments</a>:</p>

				<p>
					<strong>works</strong>
					<ul>
						<li>Chrome 26.0.1386.0 dev (OS X) &amp; Version 24.0.1312.52 m (Windows 7)</li>
						<li>Safari 6.0.2 (OS X)</li>
						<li>Firefox 18.0.1 (OS X &amp; Windows 7) <em>doesn't work on example 2, but it doesn't matter</em></li>
						<li>Opera 12.12 (OS X)</li>
						<li>Dolphin on Android 4.0.3</li>
						<li>Chrome on Android 4.0.3</li>
						<li>stock browser on Android 4.0.3</li>
					</ul>
				</p>

				<p>
					<strong>doesn't work</strong>
					<ul>
						<li>Internet Explorer 9 (Windows 7)</li>
					</ul>
				</p>

				<footer>
					<p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
				</footer>
			</section>
		</div>

		<!--[if !IE]><script>fixScale(document);</script><![endif]-->
		<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
		<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-848713-12']);
		_gaq.push(['_trackPageview']);
		(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
		</script>
	</body>
</html>